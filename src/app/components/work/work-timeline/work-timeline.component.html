<div class="d-flex justify-content-center">
  <div class="d-flex flex-column w-100 shadow bg-primary pb-5">
    <div class="d-flex">
      <div class="d-flex mr-auto ml-2">
        <span class="card-header-text text-white font-weight-bold"
          >WORK TIMELINE</span
        >
      </div>
    </div>

    <div class="container py-2 text-primary">
      <div
        class="row no-gutters"
        *ngFor="let item of employerArr; let i = index"
      >
        <div class="col-md" *ngIf="i % 2 == 0"></div>
        <ng-container
          *ngIf="i % 2 == 0"
          [ngTemplateOutlet]="template"
          [ngTemplateOutletContext]="{ i: i, len: employerArr.length }"
        >
        </ng-container>

        <div class="col-md py-2">
          <div class="card">
            <div class="card-body">
              <div
                class="
                  card-title
                  timeline-card-title-text
                  font-weight-bold
                  mb-0
                "
              >
                {{ item.startDate | date: "MM/yyyy" }} -
                {{ item.endDate | date: "MM/yyyy" }}
                <!-- 06/2019 - ongoing -->
              </div>
              <div class="text-success timeline-card-title-text">
                {{ item.role }}
              </div>
              <div class="text-primary-light">
                {{ item.employer }}
              </div>
              <div
                class="card-text mt-2 timeline-body-text"
                *ngIf="item.profileKeys.length > 0"
              >
                <ul>
                  <li class="mt-2" *ngFor="let key of item.profileKeys">
                    {{ key }}
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <ng-container
          *ngIf="i % 2 != 0"
          [ngTemplateOutlet]="template"
          [ngTemplateOutletContext]="{ i: i, len: employerArr.length }"
        >
        </ng-container>

        <div class="col-md" *ngIf="i % 2 != 0"></div>
      </div>
    </div>
  </div>
</div>

<ng-template #template let-i="i" let-len="len">
  {{ i }}
  <div class="col-md-1 text-center flex-column d-none d-md-flex">
    <div class="row h-50">
      <div class="col" [ngClass]="{ 'border-right': i != 0 }">&nbsp;</div>
      <div class="col">&nbsp;</div>
    </div>
    <h5 class="m-2">
      <span class="badge badge-pill bg-light border">&nbsp;</span>
    </h5>
    <div class="row h-50">
      <div class="col" [ngClass]="{ 'border-right': i != len - 1 }">&nbsp;</div>
      <div class="col">&nbsp;</div>
    </div>
  </div>
</ng-template>
